{"version":3,"sources":["../../src/PouchDB.js"],"names":["PouchDB","props","children","maxListeners","options","db","setMaxListeners","Component","node","number","name","string","isRequired","undefined"],"mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;;;;AACA;;AACA;;AACA;;IAEqBA,O;;;;;AAUnB,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACjB,mIAAMA,KAAN;AADiB,QAETC,QAFS,GAE8BD,KAF9B,CAETC,QAFS;AAAA,QAECC,YAFD,GAE8BF,KAF9B,CAECE,YAFD;AAAA,QAEkBC,OAFlB,0CAE8BH,KAF9B;AAGjB,UAAKI,EAAL,GAAU,gCAAOD,OAAP,CAAV;;AACA,QAAID,YAAJ,EAAkB;AAChB,YAAKE,EAAL,CAAQC,eAAR,CAAwBH,YAAxB;AACD;;AANgB;AAOlB;;;;2CACsB;AAAA,mBAC0B,KAAKF,KAD/B;AAAA,UACbC,QADa,UACbA,QADa;AAAA,UACHC,YADG,UACHA,YADG;AAAA,UACcC,OADd;AAErB,qCAAMA,OAAN;AACD;;;6BACQ;AACP,aAAO,6BAAC,mBAAD;AAAU,eAAO,KAAKC;AAAtB,SAA2B,KAAKJ,KAAL,CAAWC,QAAtC,CAAP;AACD;;;EAxBkCK,gB;;;sBAAhBP,O;;;;SACA;AACjBE,cAAUM,eADO;AAEjBL,kBAAcM,iBAFG;AAGjBC,UAAMC,kBAAOC;AAHI;;sBADAZ,O;;;;SAMG;AACpBE,cAAU,IADU;AAEpBC,kBAAcU;AAFM","sourcesContent":["import { Component } from 'react';\nimport { node, number, string } from 'prop-types';\nimport { create, close } from './pouchdbConnections';\nimport { Provider } from './DBContext';\n\nexport default class PouchDB extends Component {\n  static propTypes = {\n    children: node,\n    maxListeners: number,\n    name: string.isRequired\n  };\n  static defaultProps = {\n    children: null,\n    maxListeners: undefined\n  };\n  constructor(props) {\n    super(props);\n    const { children, maxListeners, ...options } = props;\n    this.db = create(options);\n    if (maxListeners) {\n      this.db.setMaxListeners(maxListeners);\n    }\n  }\n  componentWillUnmount() {\n    const { children, maxListeners, ...options } = this.props;\n    close(options);\n  }\n  render() {\n    return <Provider value={this.db}>{this.props.children}</Provider>;\n  }\n}\n"],"file":"PouchDB.js"}