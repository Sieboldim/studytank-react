{"version":3,"sources":["../../src/withDB.js"],"names":["propTypes","db","PouchDBModule","isRequired","withDB","props","ref","displayName","Component","name","WrappedComponent"],"mappings":";;;;;;;;;;;AAAA;;;;;;AACA;;AACA;;AACA;;AACA;;AAEO,IAAMA,YAAY;AACvBC,MAAI,2BAAWC,uBAAX,EAA0BC;AADP,CAAlB;;;AAIP,IAAMC,SAAS,SAATA,MAAS;AAAA,SACb,uBACE,mCACE,qBACE,UAACC,KAAD,EAAQC,GAAR;AAAA,WACE,6BAAC,mBAAD,QACG;AAAA,aAAM,6BAAC,SAAD,6BAAeD,KAAf;AAAsB,YAAIJ,EAA1B;AAA8B,aAAKK;AAAnC,SAAN;AAAA,KADH,CADF;AAAA,GADF,EAOE;AACEC,kCAAuBC,UAAUD,WAAV,IAAyBC,UAAUC,IAA1D,MADF;AAEEC,sBAAkBF;AAFpB,GAPF,CADF,EAaEA,SAbF,CADF,CADa;AAAA,CAAf;;eAmBeJ,M","sourcesContent":["import { forwardRef } from 'react';\nimport PouchDBModule from 'pouchdb';\nimport { instanceOf } from 'prop-types';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { Consumer } from './DBContext';\n\nexport const propTypes = {\n  db: instanceOf(PouchDBModule).isRequired\n};\n\nconst withDB = Component =>\n  forwardRef(\n    hoistStatics(\n      Object.assign(\n        (props, ref) => (\n          <Consumer>\n            {db => <Component {...props} db={db} ref={ref} />}\n          </Consumer>\n        ),\n\n        {\n          displayName: `withDB(${Component.displayName || Component.name})`,\n          WrappedComponent: Component\n        }\n      ),\n      Component\n    )\n  );\n\nexport default withDB;\n"],"file":"withDB.js"}