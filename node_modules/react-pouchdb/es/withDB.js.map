{"version":3,"sources":["../src/withDB.js"],"names":["forwardRef","PouchDBModule","instanceOf","hoistStatics","Consumer","propTypes","db","isRequired","withDB","props","ref","displayName","Component","name","WrappedComponent"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,OAAOC,aAAP,MAA0B,SAA1B;AACA,SAASC,UAAT,QAA2B,YAA3B;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,OAAO,IAAMC,YAAY;AACvBC,MAAIJ,WAAWD,aAAX,EAA0BM;AADP,CAAlB;;AAIP,IAAMC,SAAS,SAATA,MAAS;AAAA,SACbR,WACEG,aACE,eACE,UAACM,KAAD,EAAQC,GAAR;AAAA,WACE,oBAAC,QAAD,QACG;AAAA,aAAM,oBAAC,SAAD,eAAeD,KAAf;AAAsB,YAAIH,EAA1B;AAA8B,aAAKI;AAAnC,SAAN;AAAA,KADH,CADF;AAAA,GADF,EAOE;AACEC,kCAAuBC,UAAUD,WAAV,IAAyBC,UAAUC,IAA1D,MADF;AAEEC,sBAAkBF;AAFpB,GAPF,CADF,EAaEA,SAbF,CADF,CADa;AAAA,CAAf;;AAmBA,eAAeJ,MAAf","sourcesContent":["import { forwardRef } from 'react';\nimport PouchDBModule from 'pouchdb';\nimport { instanceOf } from 'prop-types';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { Consumer } from './DBContext';\n\nexport const propTypes = {\n  db: instanceOf(PouchDBModule).isRequired\n};\n\nconst withDB = Component =>\n  forwardRef(\n    hoistStatics(\n      Object.assign(\n        (props, ref) => (\n          <Consumer>\n            {db => <Component {...props} db={db} ref={ref} />}\n          </Consumer>\n        ),\n\n        {\n          displayName: `withDB(${Component.displayName || Component.name})`,\n          WrappedComponent: Component\n        }\n      ),\n      Component\n    )\n  );\n\nexport default withDB;\n"],"file":"withDB.js"}