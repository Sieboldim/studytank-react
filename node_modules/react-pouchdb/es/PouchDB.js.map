{"version":3,"sources":["../src/PouchDB.js"],"names":["Component","node","number","string","create","close","Provider","PouchDB","props","children","maxListeners","options","db","setMaxListeners","name","isRequired","undefined"],"mappings":";;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,MAAvB,QAAqC,YAArC;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,sBAA9B;AACA,SAASC,QAAT,QAAyB,aAAzB;;IAEqBC,O;;;;;AAUnB,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+GAAMA,KAAN;;AADiB,QAETC,QAFS,GAE8BD,KAF9B,CAETC,QAFS;AAAA,QAECC,YAFD,GAE8BF,KAF9B,CAECE,YAFD;AAAA,QAEkBC,OAFlB,4BAE8BH,KAF9B;;AAGjB,UAAKI,EAAL,GAAUR,OAAOO,OAAP,CAAV;;AACA,QAAID,YAAJ,EAAkB;AAChB,YAAKE,EAAL,CAAQC,eAAR,CAAwBH,YAAxB;AACD;;AANgB;AAOlB;;;;2CACsB;AAAA,mBAC0B,KAAKF,KAD/B;AAAA,UACbC,QADa,UACbA,QADa;AAAA,UACHC,YADG,UACHA,YADG;AAAA,UACcC,OADd;;AAErBN,YAAMM,OAAN;AACD;;;6BACQ;AACP,aAAO,oBAAC,QAAD;AAAU,eAAO,KAAKC;AAAtB,SAA2B,KAAKJ,KAAL,CAAWC,QAAtC,CAAP;AACD;;;;EAxBkCT,S;;sBAAhBO,O;;;;SACA;AACjBE,cAAUR,IADO;AAEjBS,kBAAcR,MAFG;AAGjBY,UAAMX,OAAOY;AAHI;;sBADAR,O;;;;SAMG;AACpBE,cAAU,IADU;AAEpBC,kBAAcM;AAFM;;SANHT,O","sourcesContent":["import { Component } from 'react';\nimport { node, number, string } from 'prop-types';\nimport { create, close } from './pouchdbConnections';\nimport { Provider } from './DBContext';\n\nexport default class PouchDB extends Component {\n  static propTypes = {\n    children: node,\n    maxListeners: number,\n    name: string.isRequired\n  };\n  static defaultProps = {\n    children: null,\n    maxListeners: undefined\n  };\n  constructor(props) {\n    super(props);\n    const { children, maxListeners, ...options } = props;\n    this.db = create(options);\n    if (maxListeners) {\n      this.db.setMaxListeners(maxListeners);\n    }\n  }\n  componentWillUnmount() {\n    const { children, maxListeners, ...options } = this.props;\n    close(options);\n  }\n  render() {\n    return <Provider value={this.db}>{this.props.children}</Provider>;\n  }\n}\n"],"file":"PouchDB.js"}