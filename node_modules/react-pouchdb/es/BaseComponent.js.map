{"version":3,"sources":["../src/BaseComponent.js"],"names":["Component","shouldUpdate","omit","propTypes","renderPropTypes","dbPropTypes","BaseComponent","_isMounted","_listen","prevProps","props","unlisten","state","setState","listen","cancel"],"mappings":";;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,IAAT,EAAeC,aAAaC,eAA5B,QAAmD,eAAnD;AACA,SAASD,aAAaE,WAAtB,QAAyC,UAAzC;;IAEqBC,a;;;;;;;;;;;;;wCAKC;AAClB,WAAKC,UAAL,GAAkB,IAAlB;;AACA,WAAKC,OAAL;AACD;;;uCACkBC,S,EAAW;AAC5B,UAAIR,aAAaQ,SAAb,EAAwB,KAAKC,KAA7B,CAAJ,EAAyC;AACvC,aAAKC,QAAL;;AACA,aAAKH,OAAL;AACD;AACF;;;2CACsB;AACrB,WAAKD,UAAL,GAAkB,KAAlB;AACA,WAAKI,QAAL;AACD;;;sCACiBC,K,EAAO;AACvB,UAAI,CAAC,KAAKL,UAAV,EAAsB;AACpB;AACD;;AACD,WAAKM,QAAL,CAAcD,KAAd;AACA,aAAO,IAAP;AACD;;;8BACS;AACR,WAAKE,MAAL,CAAYZ,KAAK,KAAKQ,KAAV,CAAZ;AACD;;;+BACU;AAAA,UACDK,MADC,GACU,IADV,CACDA,MADC;;AAET,UAAIA,MAAJ,EAAY;AACVA;AACD;AACF;;;;EAlCwCf,S;;sBAAtBM,a;;;;2BAEdF,e,EACAC,W;;SAHcC,a","sourcesContent":["import { Component } from 'react';\nimport shouldUpdate from './shouldUpdate';\nimport { omit, propTypes as renderPropTypes } from './renderProps';\nimport { propTypes as dbPropTypes } from './withDB';\n\nexport default class BaseComponent extends Component {\n  static propTypes = {\n    ...renderPropTypes,\n    ...dbPropTypes\n  };\n  componentDidMount() {\n    this._isMounted = true;\n    this._listen();\n  }\n  componentDidUpdate(prevProps) {\n    if (shouldUpdate(prevProps, this.props)) {\n      this.unlisten();\n      this._listen();\n    }\n  }\n  componentWillUnmount() {\n    this._isMounted = false;\n    this.unlisten();\n  }\n  setStateIfMounted(state) {\n    if (!this._isMounted) {\n      return;\n    }\n    this.setState(state);\n    return true;\n  }\n  _listen() {\n    this.listen(omit(this.props));\n  }\n  unlisten() {\n    const { cancel } = this;\n    if (cancel) {\n      cancel();\n    }\n  }\n}\n"],"file":"BaseComponent.js"}