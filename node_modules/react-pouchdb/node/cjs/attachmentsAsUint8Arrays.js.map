{"version":3,"sources":["../../src/attachmentsAsUint8Arrays.js"],"names":["blobToUint8Array","reader","FileReader","onload","resolve","Uint8Array","result","readAsArrayBuffer","blob","global","Buffer","identity","attachments","name","data","attachmentsAsUint8Arrays"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA,IAAMA,mBAAmB,SAAnBA,gBAAmB;AAAA,SACvB,qBAAY,mBAAW;AACrB,QAAMC,SAAS,IAAIC,UAAJ,EAAf;;AACAD,WAAOE,MAAP,GAAgB;AAAA,aAAMC,QAAQ,IAAIC,UAAJ,CAAeJ,OAAOK,MAAtB,CAAR,CAAN;AAAA,KAAhB;;AACAL,WAAOM,iBAAP,CAAyBC,IAAzB;AACD,GAJD,CADuB;AAAA,CAAzB;;eAOgB,QAAOC,MAAP,uDAAOA,MAAP,OAAkB,QAAlB,IAA8BA,OAAOC,MAArC,GACZC,iBADY;AAAA;AAAA;AAAA;AAAA;AAAA,4BAEZ,iBAAwCC,WAAxC;AAAA;;AAAA;AAAA;AAAA;AAAA;AACQN,kBADR,GACiB,EADjB;AAAA,mBAEiC,sBAAeM,WAAf,CAFjC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAEcC,gBAFd;AAEsBC,gBAFtB,YAEsBA,IAFtB;AAAA;AAAA,mBAGyBd,iBAAiBc,IAAjB,CAHzB;;AAAA;AAGIR,mBAAOO,IAAP,CAHJ;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAKSP,MALT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAFY;;AAAA,kBAEGS,wBAFH;AAAA;AAAA;AAAA,G","sourcesContent":["import identity from 'lodash/identity';\n\nconst blobToUint8Array = blob =>\n  new Promise(resolve => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(new Uint8Array(reader.result));\n    reader.readAsArrayBuffer(blob);\n  });\n\nexport default (typeof global === 'object' && global.Buffer\n  ? identity\n  : async function attachmentsAsUint8Arrays(attachments) {\n      const result = {};\n      for (const [name, { data }] of Object.entries(attachments)) {\n        result[name] = await blobToUint8Array(data);\n      }\n      return result;\n    });\n"],"file":"attachmentsAsUint8Arrays.js"}